How to make a pull request
==========================
:Author: Gert Meulyzer
:Email: gert@plasmalang.org
:Date: April 3, 2019
:Revision: 0.1
:Copyright: Copyright (C) 2019, Plasma Team
:License: CC BY-SA 4.0

* Show a real life example from start to finish on how to do a good PR.

_Draft text follows!_

It's hard to start contributing to an open source project. Especially if
it's your first one. We present a flow here for you to follow and will show
an example of an actual commit to the codebase. (You can find the commit
*here* and the PR *here*) This way of working should be good for most
projects you commit to, but be sure to check the contribution guidelines for
every project. Ours is in the
https://github.com/PlasmaLang/plasma/blob/master/CONTRIBUTING.md[CONTRIBUTING.md]
file.

1. Fixing the bug.

We found a bug on line 81 of
https://github.com/PlasmaLang/plasma/blob/master/runtime/pz_option.h#L81[runtime/pz_option.h].
There is one 'l' too many. We'll fix it up so it's spelt correctly and
commit it to git.


.First I created a branch for the fix.
----
gert@solus ~/src/myplasma $ git branch
* master
gert@solus ~/src/myplasma $ git checkout -b pzruntime_typo
Switched to a new branch 'pzruntime_typo'
----

.Then I went in and edited the file.
----
gert@solus ~/src/myplasma $ cd runtime/
gert@solus ~/src/myplasma/runtime $ nano -w pz_option.h
gert@solus ~/src/myplasma/runtime $ git status
On branch pzruntime_typo
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

    modified:   pz_option.h

no changes added to commit (use "git add" and/or "git commit -a")
----

.To see what has changed, I'll show you a git diff:
----
gert@solus ~/src/myplasma/runtime $ git diff
diff --git a/runtime/pz_option.h b/runtime/pz_option.h
index 7702333..808bec4 100644
--- a/runtime/pz_option.h
+++ b/runtime/pz_option.h
@@ -80,7 +80,7 @@ class Options {
     bool gc_slow_asserts() const { return true; }
     bool gc_poison() const { return true; }
 
-    // Change temporarilly to enable tracing.
+    // Change temporarily to enable tracing.
     bool gc_trace() const { return m_gc_trace; }
     bool gc_trace2() const { return false; }
 #endif
----

.So now we commit:
----
gert@solus ~/src/myplasma/runtime $ git commit -a -m "Fixed typo in pz_option.h"
[pzruntime_typo 23fb8aa] Fixed typo in pz_option.h
 1 file changed, 1 insertion(+), 1 deletion(-)
----

NOTE: We didn't follow the guideline for commit messages here, to keep the example small. But please try and follow the correct formatting for them: link:https://github.com/PlasmaLang/plasma/blob/master/CONTRIBUTING.md#submitting-your-changes[https://github.com/PlasmaLang/plasma/blob/master/CONTRIBUTING.md]

.Then we upload the new branch to our own repo online
----
gert@solus ~/src/myplasma/runtime $ git push --set-upstream origin pzruntime_typo
Enumerating objects: 7, done.
Counting objects: 100% (7/7), done.
Delta compression using up to 8 threads
Compressing objects: 100% (4/4), done.
Writing objects: 100% (4/4), 366 bytes | 366.00 KiB/s, done.
Total 4 (delta 3), reused 0 (delta 0)
remote: Resolving deltas: 100% (3/3), completed with 3 local objects.
remote:
remote: Create a pull request for 'pzruntime_typo' on GitHub by visiting:
remote:      https://github.com/Gertm/plasma/pull/new/pzruntime_typo
remote:
To github.com:Gertm/plasma.git
 * [new branch]      pzruntime_typo -> pzruntime_typo
Branch 'pzruntime_typo' set up to track remote branch 'pzruntime_typo' from 'origin'.
----

As you can see from the output, we can now go to github.com and create the pull request. +
You can still see it here: link:https://github.com/PlasmaLang/plasma/pull/176[https://github.com/PlasmaLang/plasma/pull/176].


Shortly after, Paul approved this pull request and the change got merged into the main repo. +
All we had to do now is clean up our own branch.

NOTE: Show how to clean up your local branches afterwards when it gets accepted.


// vim: set syntax=asciidoc:
